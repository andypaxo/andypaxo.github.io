---
layout: post
title: Incompatibilities in MVC futures
date: 2010-07-27 17:14:00
---

As has been posted on a few other blogs, there are some features of <a href="http://aspnet.codeplex.com/releases/view/41742">ASP.NET MVC 2 Futures </a>that don't play nicely together.<br /><br />Two features in particular are the validation (both MS Ajax and JQuery) and the generic form methods.<br /><br />Here's a (working) example of a very simple form with the plain, non-generic MVC method:<br /><div style="font-family: 'Courier New',Courier,monospace;"><span style="font-size: x-small;">&lt;% Html.EnableClientValidation(); %&gt;<br />&nbsp;&lt;% using (Html.BeginForm("Register", "Account", FormMethod.Post, new { model = "" })) { %&gt;<br />&nbsp;&lt;%: Html.TextBoxFor(m =&gt; m.UserName) %&gt;<br />&nbsp;&lt;%: Html.ValidationMessageFor(m =&gt; m.UserName) %&gt;<br />&nbsp;&lt;input type="submit" value="Register" /&gt;</span></div><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;">&lt;% } %&gt;</span><br /><br />But the following <i>does not work</i>:<br /><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;">&lt;% Html.EnableClientValidation(); %&gt;<br />&lt;% using (<b style="color: #990000;">Html.BeginForm<accountcontroller>(x =&gt; x.Register(null))</accountcontroller></b>) { %&gt;<br />&nbsp; &lt;%: Html.TextBoxFor(m =&gt; m.UserName) %&gt;<br />&nbsp; &lt;%: Html.ValidationMessageFor(m =&gt; m.UserName) %&gt;<br />&nbsp; &lt;input type="submit" value="Register" /&gt;<br />&lt;% } %&gt;</span><br /><br />When this is run, it produces a JavaScript error along the lines of "formElement is null".<br /><br />I do not&nbsp; currently have a workaround for this (other than using the plain method). But it looks to me like the problem lies in the default ids for the form elements which the regular ASP.NET MVC method produces. The non-generic method creates an id for each form on the page (<i>form0</i>, <i>form1</i>, ...) but Futures does not.

